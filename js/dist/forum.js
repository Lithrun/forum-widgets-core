module.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function i(t){return t.slice(0).sort((function(t,e){var n=t.position,i=e.position;return n>i?1:n<i?-1:0}))}n.d(e,"a",(function(){return i}))},function(t,e){t.exports=flarum.core.compat["common/Component"]},,function(t,e,n){"use strict";function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return i}))},function(t,e){t.exports=flarum.core.compat["common/utils/classList"]},function(t,e){t.exports=flarum.core.compat["common/helpers/icon"]},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(4),o=function(){function t(){this.widgets=[],this.states={},this.config={}}var e=t.prototype;return e.add=function(t,e){t.extension=e,t.id=e+":"+t.key,this.widgets.push(t),this.states[t.id]={}},e.getbyId=function(t){return this.getWidgetInstances().find((function(e){return e.id===t}))||null},e.getWidgetInstances=function(){var t=this,e=this.config.disabled||[],n=(this.config.instances||[]).map((function(e){return Object(i.a)({},t.widgets.find((function(t){return t.id===e.id}))||{},e)}));return this.widgets.forEach((function(t){n.find((function(e){return e.id===t.id}))||n.push(t)})),n.filter((function(t){return!e.includes(t.id)}))},e.get=function(t,e){var n=this;return void 0===e&&(e=!1),this.getWidgetInstances().filter((function(e){return e.placement===t})).filter((function(t){return e||("function"==typeof t.isDisabled?!t.isDisabled():!t.isDisabled)})).filter((function(t){return(t.extension||t.id.split(":")[0])in flarum.extensions})).map((function(t){return Object(i.a)({},t,{extension:t.extension||t.id.split(":")[0],state:n.states[t.id]})}))},e.setConfig=function(t){this.config=t},t}()},function(t,e){t.exports=flarum.core},function(t,e,n){"use strict";var i=function(){function t(){this.widgets=[]}var e=t.prototype;return e.add=function(t){return this.widgets.push(t),this},e.extend=function(t,e){this.widgets.forEach((function(n){t.widgets.add(n,e)}))},t}(),o=n(0),r=n(2),c=n.n(r),s=n(5),u=n.n(s),a=n(6),f=n.n(a),d=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.view=function(){return m("div",{className:u()(["AfruxWidgets-Widget",this.className()])},this.header(),m("div",{className:"AfruxWidgets-Widget-content"},this.content()))},n.header=function(){var t=this.icon(),e=this.title();return e?m("div",{className:"AfruxWidgets-Widget-title"},t?m("span",{className:"AfruxWidgets-Widget-title-icon"},f()(t)):null,m("span",{className:"AfruxWidgets-Widget-title-label"},e),m("div",{className:"AfruxWidgets-Widget-title-desc"},this.description())):null},n.className=function(){return""},n.title=function(){return""},n.description=function(){return""},n.icon=function(){return""},n.content=function(){return""},e}(c.a);e.a={"extensions/afrux-forum-widgets-core/common/extend/Widgets":i,"extensions/afrux-forum-widgets-core/common/components/Widget":d}},function(t,e){t.exports=flarum.core.compat["common/extend"]},function(t,e){t.exports=flarum.core.compat["forum/components/IndexPage"]},function(t,e){t.exports=flarum.core.compat["common/utils/Stream"]},,,function(t,e,n){"use strict";n.r(e);var i=n(10),o=n(11),r=n.n(o),c=n(7),s=n(0),u=n(2),a=n.n(u),f=n(1),d=function(t){function e(){return t.apply(this,arguments)||this}return Object(s.a)(e,t),e.prototype.view=function(){return m("div",{className:"AfruxWidgets-sideNavAlt AfruxWidgets-WidgetSection"},Object(f.a)(app.widgets.get("end")).map((function(t){return t.component.component({state:t.state})})))},e}(a.a),p=function(t){function e(){return t.apply(this,arguments)||this}return Object(s.a)(e,t),e.prototype.view=function(){switch(app.current.data.routeName){case"index":case"categories":return m("div",{className:"AfruxWidgets-startTop AfruxWidgets-WidgetSection"},Object(f.a)(app.widgets.get("start_top")).map((function(t){return t.component.component({state:t.state})})));default:return null}},e}(a.a),l=function(t){function e(){return t.apply(this,arguments)||this}return Object(s.a)(e,t),e.prototype.view=function(){switch(app.current.data.routeName){case"index":case"categories":return m("div",{className:"AfruxWidgets-startBottom AfruxWidgets-WidgetSection"},Object(f.a)(app.widgets.get("start_bottom")).map((function(t){return t.component.component({state:t.state})})));default:return null}},e}(a.a),g=n(12),h=n.n(g),x=n(5),b=n.n(x),W=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).scrollEnd=void 0,e}Object(s.a)(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.scrollEnd=h()(!1)},n.view=function(){var t=this,e=["phone","tablet"].includes(app.screen());return m("div",{className:b()({"AfruxWidgets-topWidgetSection AfruxWidgets-WidgetSection":!0,"AfruxWidgets-WidgetSection--endScroll":e&&this.scrollEnd()}),onscroll:function(n){e&&(t.scrollEnd(!1),n.target.offsetWidth+n.target.scrollLeft>=n.target.scrollWidth&&t.scrollEnd(!0))}},Object(f.a)(app.widgets.get("top")).map((function(t){return t.component.component({state:t.state})})))},e}(a.a),v=function(t){function e(){return t.apply(this,arguments)||this}return Object(s.a)(e,t),e.prototype.view=function(){return m("div",{className:"AfruxWidgets-bottomWidgetSection AfruxWidgets-WidgetSection"},Object(f.a)(app.widgets.get("bottom")).map((function(t){return t.component.component({state:t.state})})))},e}(a.a),y=n(9),w=Object.assign(y.a,{"extensions/afrux-forum-widgets-core/forum/components/EndWidgetSection":d,"extensions/afrux-forum-widgets-core/forum/components/StartTopWidgetSection":p,"extensions/afrux-forum-widgets-core/forum/components/StartBottomWidgetSection":l,"extensions/afrux-forum-widgets-core/forum/components/TopWidgetSection":W,"extensions/afrux-forum-widgets-core/forum/components/BottomWidgetSection":v}),O=n(8);app.widgets=new c.a,app.initializers.add("afrux/forum-widgets-core",(function(){app.widgets.setConfig(app.data.resources[0].attributes["afrux-forum-widgets-core.config"]),Object(i.extend)(r.a.prototype,"view",(function(t){t.children[1].children[0].children.push(m(d,null)),t.children[1].children=[m(W,null)].concat(t.children[1].children,[m(v,null)])})),Object(i.extend)(r.a.prototype,"sidebarItems",(function(t){t.add("startTopWidgetSection",m(p,null),100),t.add("startBottomWidgetSection",m(l,null),-100)}))})),Object.assign(O.compat,w)}]);
//# sourceMappingURL=forum.js.map